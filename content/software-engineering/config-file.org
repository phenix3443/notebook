# -*- coding:utf-8-*-
#+TITLE: 软件工程中的配置文件
#+AUTHOR: liushangliang
#+EMAIL: phenix3443@gmail.com

* 概述
  配置是程序很重要的一部分，程序配置应该最少支持三个级别：内置、配置文件、命令行选项，优先级一次递增。
  1. 内置提供配置项的默认值。
  2. 配置文件是程序配置的主要配置手段，程序的运行主要依赖配置文件。
  3. 命令行选项主要用于调试，比如修改日志的优先级等。

  配置文件是程序很重要的一部分。一个良好的配置文件应该满足如下的需求：
  1. 语法简单，灵活。
  2. 添加注释。注释是为了开发或运维人员修改方便。
  3. 配置项支持引用。配置文件中有些配置项目是通用的，如果可以通过变量引用会更方便。
  4. 配置文件支持继承。公共的配置项目和不同实例的差异配置项目可以分开。
  5. 有各种语言实现的解析器。配置文件应该独立于具体语言。

* 常见配置文件

** 语言支持
   有些脚本语言，如lua，python，可以将配置写在独立的脚本（如config.suffix），然后导入该模块。

** ini

** json
   json不能添加注释。

** yaml

** HOCON

* 对比
  |              | lang | ini | json | yaml | HOCON |
  |--------------+------+-----+------+------+-------|
  | 语法简单     | Y    | Y   | Y    | Y    |       |
  | 支持注释     | Y    | Y   | N    | Y    |       |
  | 变量引用     | Y    | N   | N    | Y    |       |
  | 配置文件继承 | Y    | N   | N    | N    |       |
  | 多语言支持   | N    | Y   | Y    | Y    |       |
